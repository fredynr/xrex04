<?php

namespace App\Livewire\Components;

use Livewire\Component;
use Illuminate\Support\Facades\Auth;

class Sidebar extends Component
{
    public string $itemActivo = '';
    public $userRole;

    public $menuItems;

    public function mount()
    {
        $this->userRole = Auth::user()->role;
        $this->itemActivo = 'Inicio';
        $this->menuItems = $this->getMenuByRole($this->userRole);
    }



    private function getMenuByRole($role)
    {
        $allItems = [
            [
                'label' => 'Inicio',
                'navigate' => 'views.dashboard',
                'icon' => '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M240-200h147.69v-235.38h184.62V-200H720v-360L480-741.54 240-560v360Zm-40 40v-420l280-211.54L760-580v420H532.31v-235.38H427.69V-160H200Zm280-310.77Z"/></svg>',
                'roles' => ['Especialista', 'admin'],
            ],
            [
                'label' => 'Módulo, lectura de estudios',
                'navigate' => 'views.view-specialist',
                'icon' => '<svg xmlns="http://www.w3.org/2000/svg" height="24px" width="24px" viewBox="0 0 256 256" enable-background="new 0 0 256 256" xml:space="preserve">
<g><g><g><path fill="currentColor" d="M10,92.9v83.2h63.1c49.8,0,63.3,0.2,63.7,0.7c0.3,0.4,3.8,8.7,7.7,18.4c3.9,9.7,7.8,18.7,8.8,20c3.8,5.5,10,10,16.4,12c2.4,0.7,4.2,1.6,4.8,2.4c0.5,0.6,1.9,4.2,3.1,7.8c1.3,3.6,2.6,7,3,7.7c0.6,1.1,1.3,1.2,27.5,1.2c23.5,0,27-0.1,27-0.9c0-0.5-2.6-7.7-5.8-16.1c-3.2-8.4-5.8-15.8-5.8-16.4c0-0.6,0.8-2.3,1.7-3.7c4.3-6.4,5.6-14.2,3.5-21.7c-0.6-2.4-1.9-5.9-2.7-7.7c-0.8-1.9-1.5-3.4-1.5-3.5c0-0.1,4.8-0.2,10.7-0.2H246V92.9V9.7H128H10V92.9z M239,92.9v76.3h-8.6h-8.6l-1.5-3.3c-0.8-1.9-5-12.2-9.4-23.1c-4.4-10.8-8.1-19.8-8.2-19.9c-0.1-0.1-1.3,0.4-2.8,1.1c-4.2,2-8.2,6-10.3,10.1c-1.7,3.4-1.8,4.1-1.6,8.2c0.2,3.8,0.8,5.8,3.5,12.6c1.8,4.5,3.8,9.5,4.5,11.1l1.2,3.1h-90.2H17V92.9V16.7h111h111V92.9z"/><path fill="currentColor" d="M117.7,32.7c-0.2,0.2-0.4,1.7-0.4,3.5v3.1h-17c-14.4,0-17.2,0.1-18.3,0.9c-1.7,1.2-1.7,4.3-0.1,5.8c1.2,1,2.5,1.1,18.3,1.3l17,0.2V53v5.4H95.9c-20.7,0-21.4,0.1-22.9,1.2c-1.9,1.5-2,3.9-0.3,5.5c1.2,1,2.6,1.1,22.9,1.3l21.7,0.2V72v5.5H94.9c-18.6,0-22.7,0.2-24,0.9c-2.8,1.5-2.8,5.2-0.1,6.7c0.7,0.3,9.4,0.6,23.7,0.6h22.7v5.4v5.5l-20.2,0.2C78.9,97,76.7,97.1,75.4,98c-1.9,1.2-2.1,3.9-0.4,5.6c1.1,1.1,1.9,1.2,21.7,1.2h20.6v5.8v5.8H97.7c-16.8,0-19.8,0.1-20.9,0.9c-1.2,0.8-1.3,1.3-1.3,8.2c0,14.7,2.5,21.4,8.8,23.7c7.1,2.6,12.4-0.8,19-11.7c3.7-6.1,8.8-11.6,11.7-12.3l2-0.5l0.3,11.3l0.3,11.4l10.3,0.2l10.3,0.1v-11.6v-11.6l2.2,0.9c3.8,1.6,5.9,3.9,11.7,12.5c6.1,9.2,8.6,11.5,12.9,12c6,0.7,10.9-2.6,13.1-8.5c1.4-3.7,2.5-11.7,2.5-17.9c0-3.7-0.2-4.4-1.4-5.6l-1.4-1.5h-19.8h-19.7v-5.8v-5.8h20.8h20.8l1.2-1.3c1.6-1.7,1.6-2.8-0.1-4.9l-1.4-1.6l-20.6-0.2l-20.6-0.2v-5.5v-5.5h23c15,0,23.3-0.2,24.1-0.6c2.7-1.4,2.4-5.5-0.5-6.8c-0.9-0.4-8.6-0.6-23.9-0.6h-22.6V72v-5.4l22.1-0.2l22.1-0.2l1.1-1.4c1.5-1.8,1.4-3.3-0.3-5l-1.4-1.4h-21.8h-21.7V53v-5.4l17-0.2l17-0.2l1.5-1.4c1.9-1.7,1.9-3.5,0.2-5.2c-1.3-1.3-1.7-1.3-18.6-1.3h-17.2v-3.5v-3.5h-10C122.6,32.3,117.9,32.5,117.7,32.7z"/></g></g></g>
</svg>',
                'roles' => ['Especialista', 'admin'],
            ],
            [
                'label' => 'Ingresos',
                'navigate' => 'views.view-get-into',
                'icon' => '<svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M164-164v-200h32v168h168v32H164Zm432 0v-32h168v-168h32v200H596ZM288-364.46 265.46-387l77-77H116v-32h226.46l-77-77L288-595.54 403.54-480 288-364.46Zm384 0L556.46-480 672-595.54 694.54-573l-77 77H844v32H617.54l77 77L672-364.46ZM164-596v-200h200v32H196v168h-32Zm600 0v-168H596v-32h200v200h-32Z"/></svg>',
                'roles' => ['Especialista', 'admin'],
            ],
            [
                'label' => 'Módulo, toma de estudios',
                'navigate' => 'views.view-technologist',
                'icon' => '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M719.38-440 193.85-630.15l12.61-37.54L744.31-472q29.23 11.08 42.46 34.15Q800-414.77 800-389.23v124.61q0 27.62-18.5 46.12Q763-200 735.38-200H224.62q-27.62 0-46.12-18.5Q160-237 160-264.62v-110.76q0-27.62 18.5-46.12Q197-440 224.62-440h494.76Zm16 200q9.24 0 16.93-7.69 7.69-7.69 7.69-16.93v-110.76q0-9.24-7.69-16.93-7.69-7.69-16.93-7.69H224.62q-9.24 0-16.93 7.69-7.69 7.69-7.69 16.93v110.76q0 9.24 7.69 16.93 7.69 7.69 16.93 7.69h510.76Zm-329.23-60H700v-40H406.15v40ZM280-289.23q13.15 0 21.96-8.81t8.81-21.96q0-13.15-8.81-21.96T280-350.77q-13.15 0-21.96 8.81T249.23-320q0 13.15 8.81 21.96t21.96 8.81ZM200-240v-160 160Z"/></svg>',
                'roles' => ['Especialista', 'Tecnólogo', 'admin'],
            ],
            [
                'label' => 'Admin, plantillas',
                'navigate' => 'views.view-templates',
                'icon' => '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M320-184.62v-391q0-26.84 19-45.61T384.85-640h390.53q26.85 0 45.74 18.88Q840-602.23 840-575.38v278.46L663.08-120H384.62q-26.85 0-45.74-18.88Q320-157.77 320-184.62ZM121-696.15q-5.23-26.85 10.31-48.35 15.54-21.5 42.38-26.73L558.46-839q26.85-5.23 48.35 10.31 21.5 15.54 26.73 42.38l8.46 50.93h-40.46l-8.54-47.7q-1.54-8.46-9.23-13.46T566.85-800l-386.08 68.54q-10.77 1.54-16.15 10-5.39 8.46-3.85 19.23l63.85 360.61v77.47q-13.7-6.7-23.27-19-9.58-12.31-12.58-28.23L121-696.15Zm239 120.77v390.76q0 10.77 6.92 17.7 6.93 6.92 17.7 6.92H640v-160h160v-255.38q0-10.77-6.92-17.7-6.93-6.92-17.7-6.92H384.62q-10.77 0-17.7 6.92-6.92 6.93-6.92 17.7ZM580-380Z"/></svg>',
                'roles' => ['Especialista', 'admin'],
            ],
            [
                'label' => 'Entrega de estudios',
                'navigate' => 'views.view-delivery-estudio',
                'icon' => '<svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M615.38-769.23H366.15q-10.77 0-17.69 6.92-6.92 6.93-6.92 17.69v265.39h273.84v-290Zm160 0h-120v290h120q10.77 0 17.7-6.54 6.92-6.54 6.92-17.31v-241.54q0-10.76-6.92-17.69-6.93-6.92-17.7-6.92Zm-156.53 330H310.77V-200H542q21 0 40.5-7t35.5-21l166-137q-11.08-11.85-24.54-17.77-13.46-5.92-28.31-7.92-16.23-1.46-31.84 2.92-15.62 4.39-29.62 15.39l-71.07 57H421.54v-40h162.92l50.92-41.39q5.77-4.54 7.89-11.08 2.11-6.53-.19-14.07-2.31-8.46-9.04-12.89-6.73-4.42-15.19-4.42ZM270.77-440h-86.15q-10.77 0-17.7 6.92-6.92 6.93-6.92 17.7v230.76q0 10.77 6.92 17.7 6.93 6.92 17.7 6.92h61.53q10.77 0 17.7-6.92 6.92-6.93 6.92-17.7V-440Zm30.77.77v-305.39q0-27.61 18.5-46.11t46.11-18.5h409.23q27.62 0 46.12 18.5 18.5 18.5 18.5 46.11v240.77q0 27.62-18.5 46.12-18.5 18.5-46.12 18.5H301.54Zm-55.39 320h-61.53q-27.62 0-46.12-18.5-18.5-18.5-18.5-46.12v-230.77q0-27.61 18.5-46.11t46.12-18.5h433.46q58.84 0 111.3 24 52.47 24 90.47 69.15l20.84 25.62L643.85-196q-21.62 17.62-48.08 27.19-26.46 9.58-53.77 9.58H305.92q-7.15 18-23.23 29-16.07 11-36.54 11Z"/></svg>',
                'roles' => ['Especialista', 'admin'],
            ],
            [
                'label' => 'Módulo, Transcribir',
                'navigate' => 'views.view-transcriber',
                'icon' => '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M184.62-240q-27.62 0-46.12-18.5Q120-277 120-304.62v-350.76q0-27.62 18.5-46.12Q157-720 184.62-720h590.76q27.62 0 46.12 18.5Q840-683 840-655.38v350.76q0 27.62-18.5 46.12Q803-240 775.38-240H184.62Zm0-40h590.76q9.24 0 16.93-7.69 7.69-7.69 7.69-16.93v-350.76q0-9.24-7.69-16.93-7.69-7.69-16.93-7.69H184.62q-9.24 0-16.93 7.69-7.69 7.69-7.69 16.93v350.76q0 9.24 7.69 16.93 7.69 7.69 16.93 7.69Zm144.61-49.23h301.54v-61.54H329.23v61.54Zm-120-120h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm-480-120h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54ZM160-280v-400 400Z"/></svg>',
                'roles' => ['Especialista', 'transcriber', 'admin'],
            ],
            [
                'label' => 'Aprobar Transcripción',
                'navigate' => 'views.view-approve',
                'icon' => '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M200-200v-560 449.38-81.15V-200Zm24.62 40q-27.62 0-46.12-18.5Q160-197 160-224.62v-510.76q0-27.62 18.5-46.12Q197-800 224.62-800h510.76q27.62 0 46.12 18.5Q800-763 800-735.38v318.46h-40v-318.46q0-9.24-7.69-16.93-7.69-7.69-16.93-7.69H224.62q-9.24 0-16.93 7.69-7.69 7.69-7.69 16.93v510.76q0 9.24 7.69 16.93 7.69 7.69 16.93 7.69h253.84v40H224.62Zm465.53 40L580.46-228.92 609-257.23l81.15 81.15 162.31-162.3 28.31 28.53L690.15-120ZM324.62-449.23q13.15 0 21.96-8.81 8.8-8.81 8.8-21.96t-8.8-21.96q-8.81-8.81-21.96-8.81-13.16 0-21.97 8.81-8.8 8.81-8.8 21.96t8.8 21.96q8.81 8.81 21.97 8.81Zm0-150.77q13.15 0 21.96-8.81 8.8-8.81 8.8-21.96t-8.8-21.96q-8.81-8.81-21.96-8.81-13.16 0-21.97 8.81-8.8 8.81-8.8 21.96t8.8 21.96q8.81 8.81 21.97 8.81Zm123.07 140h215.39v-40H447.69v40Zm0-150.77h215.39v-40H447.69v40Z"/></svg>',
                'roles' => ['Especialista', 'admin'],
            ],
            [
                'label' => 'Reportes',
                'navigate' => 'views.view-reports',
                'icon' => '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M184.62-240q-27.62 0-46.12-18.5Q120-277 120-304.62v-350.76q0-27.62 18.5-46.12Q157-720 184.62-720h590.76q27.62 0 46.12 18.5Q840-683 840-655.38v350.76q0 27.62-18.5 46.12Q803-240 775.38-240H184.62Zm0-40h590.76q9.24 0 16.93-7.69 7.69-7.69 7.69-16.93v-350.76q0-9.24-7.69-16.93-7.69-7.69-16.93-7.69H184.62q-9.24 0-16.93 7.69-7.69 7.69-7.69 16.93v350.76q0 9.24 7.69 16.93 7.69 7.69 16.93 7.69Zm144.61-49.23h301.54v-61.54H329.23v61.54Zm-120-120h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm-480-120h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54ZM160-280v-400 400Z"/></svg>',
                'roles' => ['Especialista', 'admin'],
            ],
            [
                'label' => 'prueba',
                'navigate' => 'views.view-prueba',
                'icon' => '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M184.62-240q-27.62 0-46.12-18.5Q120-277 120-304.62v-350.76q0-27.62 18.5-46.12Q157-720 184.62-720h590.76q27.62 0 46.12 18.5Q840-683 840-655.38v350.76q0 27.62-18.5 46.12Q803-240 775.38-240H184.62Zm0-40h590.76q9.24 0 16.93-7.69 7.69-7.69 7.69-16.93v-350.76q0-9.24-7.69-16.93-7.69-7.69-16.93-7.69H184.62q-9.24 0-16.93 7.69-7.69 7.69-7.69 16.93v350.76q0 9.24 7.69 16.93 7.69 7.69 16.93 7.69Zm144.61-49.23h301.54v-61.54H329.23v61.54Zm-120-120h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm-480-120h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54Zm120 0h61.54v-61.54h-61.54v61.54ZM160-280v-400 400Z"/></svg>',
                'roles' => ['Especialista', 'admin'],
            ],
        ];

        return collect($allItems)
            ->filter(fn($item) => in_array($role, $item['roles']))
            ->values()
            ->toArray();
    }

    public function render()
    {
        return view('livewire.components.sidebar');
    }
}
